<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>Simple ml5.js Example</title>
        <script src="https://unpkg.com/ml5" type="text/javascript"></script>
        <style>
            .inference_result {
                font-size: 20pt;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }

            img {
                height: 400px;
            }
        </style>
    </head>
    <body>
        <h1>Simple Image Classification Example</h1>
        <img onload="onImageReady()" id="image" src="./cat.jpg"/>
        
        <p class="inference_result">
            I guess this is a <span id="result">...</span>.
            My confidence is <span id="probability">...</span>
        </p>

        <script>
            function onImageReady() {
                let img = document.getElementById('image');
                ml5.imageClassifier('MobileNet')
                .then(classifier => {
                    classifier.classify(img, (err, res) => {
                        console.log('r--', res)
                    })
                })
            }
            
        </script>    
    </body>
</html>